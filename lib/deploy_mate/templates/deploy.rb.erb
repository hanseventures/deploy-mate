# NOTE: copy this file to /config/deploy.rb
set :application, '<%= @config['app_name'] %>'

require "capistrano/deploy_mate_defaults"

set :rvm_ruby_version, '<%= @config['ruby_version'] %>'

# Set app specific vars
set :stages, %w(<%= @config['stage_name'] %>)
set :default_stage, '<%= @config['stage_name'] %>'
set :repo_url, '<%= @config['repo_url'] %>'
set :db_engine, '<%= @config['db_engine'] %>'
set :app_server, '<%= @config['app_server'] %>'

set :imagemagick, <%= @config['imagemagick'] %>
set :memcached, <%= @config['memcached'] %>
set :sidekiq, <%= @config['sidekiq'] %>

# Place a list of ssh key file paths or regular expressions e.g.: "~/.ssh/*.pub"
set :ssh_file_names, [<%= @config['ssh_file_names'].to_a.map { |file| "'#{file}'" }.join(', ') %>]

# Optionals
# Uncomment, if needed

# set :whenever_identifier, ->{ "#{fetch(:application)}_#{fetch(:stage)}" }
# set :whenever_environment, fetch(:stage)
# set :whenever_roles, [:cronjobs]
# before "whenever:update_crontab", 'rvm:hook'
